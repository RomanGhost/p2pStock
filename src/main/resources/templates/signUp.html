<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User Registration</title>
    <link href="css/sign_up_styles.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="container">
    <h2>Форма регистрации пользователя</h2>
    <form action="#" th:action="@{/auth/sign-up/save}" th:object="${user}" method="post" onsubmit="return validateForm()">
        <label>Логин*:</label><br>
        <input type="text" id="login" name="login" th:field="*{login}" required><br>
        <span class="error" th:errors="*{login}" th:if="${#fields.hasErrors('login')}"></span><br>

        <label>Пароль*:</label><br>
        <input type="password" id="password" name="password" th:field="*{password}" required><br>
        <span class="error" th:errors="*{password}" th:if="${#fields.hasErrors('password')}"></span><br>

        <input type="submit" value="Зарегистрироваться">
    </form>
    <a class="signInLink" th:href="@{/auth/sign-in}">Войти</a>
</div>

<script>
    function validateForm() {
        var login = document.getElementById('login').value;
        var password = document.getElementById('password').value;
        var loginError = document.querySelector('#login + .error');
        var passwordError = document.querySelector('#password + .error');
        loginError.textContent = '';
        passwordError.textContent = '';

        if (login.length < 2) {
            loginError.textContent = 'Логин должен содержать не менее 2 символов';
            return false;
        }

        if (password.length < 8) {
            passwordError.textContent = 'Пароль должен содержать не менее 8 символов';
            return false;
        }

        return true;
    }
</script>
</body>
</html>
