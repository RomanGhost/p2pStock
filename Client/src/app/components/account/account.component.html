<div class="app-container">
  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <main class="content">
    <div *ngIf="user$ | async as user; else loading">
      <h1>üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user.username }}</h1>
      <div class="button-group">
        <button (click)="showAddCardModal()" class="btn btn-primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É</button>
        <button (click)="showAddWalletModal()" class="btn btn-primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–æ—à–µ–ª–µ–∫</button>
        <button (click)="logout()" class="btn btn-secondary">üö™ –í—ã–π—Ç–∏</button>
      </div>

      <!-- –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç -->
      <section class="cards-section">
        <h2>üí≥ –í–∞—à–∏ –∫–∞—Ä—Ç—ã</h2>
        <div *ngIf="cards.length > 0; else noCards" class="cards-grid">
          <div *ngFor="let card of cards" class="card-item">
            <div class="card-details">
              <strong>{{ card.cardName }}</strong>
              <p>{{ card.bankName }}</p>
              <small>**** {{ card.cardNumber.slice(-4) }}</small>
            </div>
            <button class="btn-delete" (click)="deleteCard(card)">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
        </div>
        <ng-template #noCards>
          <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç.</p>
        </ng-template>
      </section>

      <!-- –°–ø–∏—Å–æ–∫ –∫–æ—à–µ–ª—å–∫–æ–≤ -->
      <section class="wallets-section">
        <h2>ü™ô –í–∞—à–∏ –∫–æ—à–µ–ª—å–∫–∏</h2>
        <div *ngIf="wallets.length > 0; else noWallets" class="wallets-grid">
          <div *ngFor="let wallet of wallets" class="wallet-item">
            <div class="wallet-details">
              <strong>{{ wallet.walletName }}</strong>
              <p>{{ wallet.cryptocurrencyCode }}</p>
              <small>–ë–∞–ª–∞–Ω—Å: {{ wallet.balance | number:'1.2-2' }}</small>
            </div>
            <button class="btn-delete" (click)="deleteWallet(wallet)">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
        </div>
        <ng-template #noWallets>
          <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤.</p>
        </ng-template>
      </section>
    </div>
    <ng-template #loading>
      <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
    </ng-template>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã -->
  <app-add-card *ngIf="isAddCardModalVisible" (closeModal)="closeAddCardModal()"></app-add-card>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞ -->
  <app-add-wallet *ngIf="isAddWalletModalVisible" (closeModal)="closeAddWalletModal()"></app-add-wallet>
</div>
